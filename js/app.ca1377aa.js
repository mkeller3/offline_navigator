(function(e){function t(t){for(var o,i,p=t[0],l=t[1],u=t[2],s=0,d=[];s<p.length;s++)i=p[s],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,p=1;p<a.length;p++){var l=a[p];0!==n[l]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},n={app:0},r=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],l=p.push.bind(p);p.push=t,p=p.slice();for(var u=0;u<p.length;u++)t(p[u]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},5490:function(e,t,a){"use strict";a("a6b6")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("Map",{attrs:{appData:e.appData}})],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"map"}})},p=[],l=(a("d81d"),a("b7d4")),u=a.n(l),c={name:"Map",props:["appData"],mounted:function(){u.a.accessToken="pk.eyJ1IjoibWtlbGxlcjMiLCJhIjoieFdYUUg5TSJ9.qzhP1v5f1elHrnTV4YpkiA",this.appData.map=new u.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[0,0],zoom:1});var e=this;this.appData.map.on("load",(function(){e.appData.map.addSource("route",{type:"geojson",data:e.appData.lineFeatureCollection}),e.appData.map.addSource("location",{type:"geojson",data:e.appData.pointFeatureCollection}),e.appData.map.addLayer({id:"location",type:"circle",source:"location",paint:{"circle-color":"#888","circle-radius":6}}),e.appData.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#E6F705","line-width":8}}),navigator.geolocation.watchPosition(e.getLocation)}))},methods:{getLocation:function(e){var t=e.coords.latitude,a=e.coords.longitude;this.appData.map.flyTo({center:[a,t],zoom:18});var o={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[a,t]}};if(this.appData.lineFeatureCollection.features[0].geometry.coordinates.length>0){var n=this.appData.lineFeatureCollection.features[0].geometry.coordinates[this.appData.lineFeatureCollection.features[0].geometry.coordinates.length-1][1],r=this.appData.lineFeatureCollection.features[0].geometry.coordinates[this.appData.lineFeatureCollection.features[0].geometry.coordinates.length-1][0];(Math.abs(t-n)>1e-5||Math.abs(a-r)>1e-5)&&(console.log("big enough change to add"),this.appData.pointFeatureCollection.features[0]=o,this.appData.lineFeatureCollection.features[0].geometry.coordinates.push([a,t]),this.appData.map.getSource("route").setData(this.appData.lineFeatureCollection),this.appData.map.getSource("location").setData(this.appData.pointFeatureCollection))}else console.log("first point"),this.appData.pointFeatureCollection.features[0]=o,this.appData.lineFeatureCollection.features[0].geometry.coordinates.push([a,t]),this.appData.map.getSource("route").setData(this.appData.lineFeatureCollection),this.appData.map.getSource("location").setData(this.appData.pointFeatureCollection)}}},s=c,d=(a("5490"),a("2877")),f=Object(d["a"])(s,i,p,!1,null,null,null),h=f.exports,y={name:"App",components:{Map:h},data:function(){return{appData:{pointFeatureCollection:{type:"FeatureCollection",features:[]},lineFeatureCollection:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}}]}}}}},g=y,m=a("6544"),D=a.n(m),v=a("7496"),b=a("f6c4"),F=Object(d["a"])(g,n,r,!1,null,null,null),C=F.exports;D()(F,{VApp:v["a"],VMain:b["a"]});var j=a("f309");o["a"].use(j["a"]);var w=new j["a"]({});o["a"].config.productionTip=!1,new o["a"]({vuetify:w,render:function(e){return e(C)}}).$mount("#app")},a6b6:function(e,t,a){}});
//# sourceMappingURL=app.ca1377aa.js.map